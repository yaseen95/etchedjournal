<div class="columns is-centered">
    <div *ngIf="inFlight === false" class="column is-12-mobile is-4-desktop">
        <h3 class="title">Configure Passphrase</h3>
        <form [formGroup]="passphraseForm"
              class="control"
              (ngSubmit)="onSubmit()">
            <div class="field">
                <div class="control">
                    <label class="label">Passphrase</label>
                    <input
                        class="input"
                        type="password"
                        placeholder="Passphrase"
                        name="passphrase"
                        tabIndex="1"
                        [formGroup]="passphraseForm"
                        formControlName="passphrase"/>
                    <!--Have to set tabIndex otherwise tab navigation goes from this to wiki link-->
                    <p *ngIf="getPassphraseError() !== null"
                       class="help error-help">
                        {{ getPassphraseError() }}
                    </p>
                    <p class="help">
                        Etched uses a
                        <a href="https://en.wikipedia.org/wiki/Passphrase">passphrase</a> to
                        protect your data. A sequence of random words (e.g. correct horse battery
                        staple) is a good idea. The longer the password the better. It must be a
                        minimum of {{ PASSPHRASE_MIN_LENGTH }} characters.
                    </p>
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <label class="label">Confirm Passphrase</label>
                    <input
                        class="input"
                        type="password"
                        placeholder="Passphrase"
                        name="passphraseConfirm"
                        tabIndex="2"
                        [formGroup]="passphraseForm"
                        formControlName="passphraseConfirm"
                    />
                    <p
                        *ngIf="submitClicked && passphraseForm.errors?.notSame"
                        class="help error-help">
                        Passphrase doesn't match
                    </p>
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <button
                        class="button is-primary"
                        type="submit"
                        tabindex="3">
                        Submit
                    </button>
                </div>
            </div>
            <p>
                Form Status: {{ passphraseForm.status }}
            </p>
        </form>
    </div>
    <div *ngIf="inFlight" class="column is-12-mobile is-4-desktop">
        <spinner [text]="'Setting passphrase'"></spinner>
    </div>
</div>
