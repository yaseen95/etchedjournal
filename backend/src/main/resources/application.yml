#flyway.locations=db/migration/{vendor}

# Enable to view full http requests
#logging.level.org.apache.http: DEBUG

#logging.level.org.keycloak: DEBUG
logging.pattern.level: '%5p %X{userId}'

spring:
  datasource:
    driver-class-name: org.h2.Driver

#    # Must specify this value in order to execute data-h2.sql.
#    platform: h2
  h2:
    console:
      enabled: true

  jpa:
    hibernate:
      ddl-auto: validate
      naming:
        implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl

  jackson:
    serialization:
      # This enables jackson to write Instants as millis since epoch (as an int/long).
      write-dates-as-timestamps: true
      write-date-timestamps-as-nanoseconds: false

  mvc:
    log-resolved-exception:
      # Disables WARN level log for caught exceptions (enabled by default by spring-boot-devtools)
      false

keycloak:
  auth-server-url: http://localhost:9001/auth
  realm: etched
  resource: etched-backend
  public-client: false
#  principal-attribute: preferred_username
  # Enabling bearer-only so that spring doesn't redirect to /sso/login
  bearer-only: true
  credentials:
    secret: SECRET
